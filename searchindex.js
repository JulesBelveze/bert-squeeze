Search.setIndex({"docnames": ["api", "assistants", "bert_squeeze.utils", "bert_squeeze.utils.artifacts", "bert_squeeze.utils.callbacks", "bert_squeeze.utils.losses", "bert_squeeze.utils.schedulers", "bert_squeeze.utils.scorers", "bert_squeeze.utils.utils_fct", "bert_squeeze.utils.vocabulary", "concepts", "data", "distillation", "distillation.utils", "index", "inference", "installation", "models", "overview", "tutorials/Distillation", "tutorials/Training"], "filenames": ["api.rst", "assistants.rst", "bert_squeeze.utils.rst", "bert_squeeze.utils.artifacts.rst", "bert_squeeze.utils.callbacks.rst", "bert_squeeze.utils.losses.rst", "bert_squeeze.utils.schedulers.rst", "bert_squeeze.utils.scorers.rst", "bert_squeeze.utils.utils_fct.rst", "bert_squeeze.utils.vocabulary.rst", "concepts.rst", "data.rst", "distillation.rst", "distillation.utils.rst", "index.rst", "inference.rst", "installation.rst", "models.rst", "overview.rst", "tutorials/Distillation.ipynb", "tutorials/Training.ipynb"], "titles": ["API", "Assistants", "Utilities", "Artifacts", "Callbacks", "Losses", "Schedulers", "Scorers", "Utility functions", "Vocabulary", "Concepts", "Data", "Distillation", "Distillation Utilities", "<em>bertsqueeze</em>", "Inference", "Installation", "Models", "Overview", "Distillation + Pruning + Quantization", "Training"], "terms": {"bert_squeez": [0, 19, 20], "lightn": [0, 14, 19, 20], "custom": [0, 12, 19, 20], "transform": [0, 14], "layer": [0, 10], "function": 0, "vocabulari": 0, "artifact": 0, "callback": [0, 10, 19, 20], "loss": 0, "schedul": [0, 20], "scorer": 0, "ar": [1, 10, 12, 16, 17, 19, 20], "high": 1, "level": 1, "helper": 1, "class": [1, 12], "which": [1, 10, 19, 20], "instanti": 1, "all": [1, 16], "need": [1, 10, 12, 16, 20], "object": [1, 20], "requir": 1, "perform": [1, 10, 19, 20], "task": [1, 20], "hand": 1, "If": [1, 10, 17, 19], "paramet": [1, 20], "specifi": 1, "thei": [1, 19], "us": [1, 10, 12, 14, 16, 19, 20], "default": [1, 19], "configur": [1, 19, 20], "can": [1, 10, 17], "found": [1, 20], "under": [1, 10], "config": 1, "you": [1, 10, 12, 16, 17, 19, 20], "also": [1, 10], "pass": 1, "keyword": 1, "argument": [1, 19, 20], "constructor": 1, "overrid": 1, "have": [10, 16, 19, 20], "never": 10, "heard": 10, "i": [10, 14, 17, 19, 20], "onli": [10, 20], "recommend": 10, "read": 10, "thi": [10, 19, 20], "amaz": 10, "blog": 10, "post": 10, "give": 10, "kei": [10, 20], "understand": 10, "main": 10, "behind": 10, "those": 10, "model": [10, 12, 14, 19], "later": [10, 20], "want": [10, 12, 19], "dig": 10, "deeper": 10, "awesom": 10, "lectur": 10, "wa": 10, "given": 10, "stanford": 10, "avail": [10, 19, 20], "here": 10, "The": [10, 14, 17, 19, 20], "idea": 10, "train": [10, 14, 17, 19], "small": 10, "network": 10, "mimic": 10, "big": 10, "try": [10, 19, 20], "replic": 10, "its": 10, "output": [10, 20], "repositori": [10, 14, 16, 17], "provid": [10, 12, 14, 17], "abil": 10, "transfer": 10, "knowledg": 10, "from": [10, 17, 19, 20], "ani": 10, "other": [10, 19, 20], "within": 10, "folder": 10, "just": 10, "write": 10, "your": 10, "own": 10, "possibl": 10, "soft": 10, "hard": 10, "an": [10, 17], "unlabel": 10, "dataset": [10, 19, 20], "In": 10, "case": 10, "we": [10, 12, 17, 19, 20], "probabl": [10, 20], "teacher": [10, 12, 19], "target": 10, "one": [10, 12, 19, 20], "assum": 10, "": [10, 20], "predict": [10, 20], "actual": 10, "label": [10, 20], "find": 10, "implement": [10, 12, 17], "neural": 10, "process": [10, 19, 20], "reduc": [10, 14], "weight": [10, 19, 20], "precis": 10, "repo": [10, 14], "ha": 10, "two": 10, "dynam": [10, 19], "awar": 10, "util": [10, 14, 19, 20], "consist": 10, "remov": [10, 19], "compress": 10, "them": 10, "featur": [10, 20], "variou": 10, "method": 10, "head": 10, "drop": 10, "user": [12, 17, 19, 20], "multipl": [12, 17], "student": [12, 19], "There": 12, "some": [12, 17, 19, 20], "alreadi": 12, "logic": [12, 17], "howev": 12, "techniqu": [12, 14], "simpli": [12, 16, 19], "extend": 12, "basedistil": 12, "bert": [14, 16, 19, 20], "squeez": [14, 16, 19, 20], "aim": 14, "code": [14, 17, 19, 20], "size": [14, 19, 20], "base": [14, 17, 19, 20], "decreas": 14, "latenc": 14, "infer": [14, 20], "time": 14, "It": 14, "gather": 14, "non": [14, 19, 20], "exhaust": 14, "list": 14, "distil": 14, "prune": 14, "quantiz": 14, "earli": 14, "exit": [14, 17], "built": 14, "pytorch": [14, 17, 19, 20], "instal": 14, "simpl": [14, 17], "fastbert": 14, "theseusbert": 14, "overview": 14, "concept": 14, "assist": [14, 19, 20], "data": [14, 19, 20], "github": [14, 16], "index": 14, "modul": 14, "To": 16, "start": [16, 20], "packag": [16, 17, 19, 20], "via": 16, "pip": 16, "directli": 16, "clone": 16, "git": 16, "http": [16, 20], "com": 16, "julesbelvez": [16, 19, 20], "set": 16, "fun": 16, "numer": 17, "rang": 17, "veri": 17, "logist": 17, "regress": 17, "more": 17, "complex": 17, "strategi": 17, "most": 17, "either": 17, "direct": 17, "paper": 17, "taken": 17, "rewritten": 17, "concis": 17, "wai": 17, "feel": [17, 19], "like": 17, "miss": 17, "would": 17, "great": 17, "addit": 17, "pleas": [17, 20], "open": 17, "issu": 17, "follow": [17, 19, 20], "lightningmodul": 17, "wrap": 17, "up": 17, "defin": 17, "correspond": [17, 19], "specif": 17, "sub": 17, "contain": 17, "reus": [17, 19, 20], "across": 17, "differ": [17, 20], "architectur": 17, "snippet": 19, "allow": 19, "microsoft": [19, 20], "xtremedistil": [19, 20], "l6": [19, 20], "h384": 19, "uncas": [19, 20], "h256": [19, 20], "At": 19, "end": 19, "magnitud": 19, "do": [19, 20], "1": [19, 20], "import": [19, 20], "distilassist": 19, "trainer": [19, 20], "2": [19, 20], "becaus": 19, "lightweight": [19, 20], "free": 19, "chang": 19, "config_assist": [19, 20], "name": [19, 20], "teacher_kwarg": 19, "pretrained_model": [19, 20], "num_label": [19, 20], "student_kwarg": 19, "data_kwarg": [19, 20], "teacher_modul": 19, "dataset_config": [19, 20], "path": [19, 20], "linxinyuan": 19, "cola": 19, "_target_": 19, "thresholdbasedprun": 19, "threshold": 19, "0": [19, 20], "start_pruning_epoch": 19, "dynamicquant": 19, "3": [19, 20], "train_dataload": [19, 20], "test_dataload": [19, 20], "basic_train": [19, 20], "max_step": [19, 20], "fit": [19, 20], "val_dataload": [19, 20], "warn": [19, 20], "builder": [19, 20], "mind": 19, "cach": [19, 20], "huggingfac": [19, 20], "linxinyuan___mind": 19, "0871d55203d4de46ef1815400998ed8f219236694f0d03786bde849741f04cd4": 19, "info": [19, 20], "root": [19, 20], "39": [19, 20], "successfulli": [19, 20], "load": [19, 20], "arrow_dataset": [19, 20], "e56c581864af9d3c": 19, "arrow": [19, 20], "dc929e775e97a506": 19, "545d3be6487c373a": 19, "3037a309a170717b": 19, "gpu": [19, 20], "fals": [19, 20], "tpu": [19, 20], "core": [19, 20], "ipu": [19, 20], "hpu": [19, 20], "type": [19, 20], "param": [19, 20], "ltcustombert": 19, "22": 19, "9": [19, 20], "m": [19, 20], "12": [19, 20], "8": [19, 20], "loss_c": 19, "labelsmoothingloss": 19, "loss_distil": 19, "mseloss": 19, "35": 19, "7": [19, 20], "trainabl": [19, 20], "total": [19, 20], "142": 19, "718": 19, "estim": [19, 20], "mb": [19, 20], "desktop": [19, 20], "venv": [19, 20], "lib": [19, 20], "python3": [19, 20], "site": [19, 20], "connector": [19, 20], "data_connector": [19, 20], "py": [19, 20], "430": [19, 20], "possibleuserwarn": [19, 20], "dataload": [19, 20], "doe": [19, 20], "mani": [19, 20], "worker": [19, 20], "mai": [19, 20], "bottleneck": [19, 20], "consid": [19, 20], "increas": [19, 20], "valu": [19, 20], "num_work": [19, 20], "number": [19, 20], "cpu": [19, 20], "machin": [19, 20], "init": [19, 20], "improv": [19, 20], "rank_zero_warn": [19, 20], "optim": [19, 20], "bert_adam": [19, 20], "226": [19, 20], "userwarn": [19, 20], "overload": [19, 20], "add_": [19, 20], "deprec": [19, 20], "alpha": [19, 20], "tensor": [19, 20], "signatur": [19, 20], "instead": [19, 20], "trigger": [19, 20], "intern": [19, 20], "runner": [19, 20], "work": [19, 20], "torch": [19, 20], "csrc": [19, 20], "python_arg_pars": [19, 20], "cpp": [19, 20], "1485": [19, 20], "next_m": [19, 20], "mul_": [19, 20], "beta1": [19, 20], "grad": [19, 20], "stop": [19, 20], "reach": [19, 20], "save": 19, "818233": 19, "setfit": 20, "emot": 20, "chose": 20, "rel": 20, "note": 20, "section": 20, "limit": 20, "step": 20, "demo": 20, "unset": 20, "achiev": 20, "decent": 20, "trainassist": 20, "tqdm": 20, "auto": 20, "21": 20, "tqdmwarn": 20, "iprogress": 20, "updat": 20, "jupyt": 20, "ipywidget": 20, "see": 20, "readthedoc": 20, "io": 20, "en": 20, "stabl": 20, "user_instal": 20, "html": 20, "autonotebook": 20, "notebook_tqdm": 20, "train_kwarg": 20, "ce": 20, "model_kwarg": 20, "6": 20, "max_length": 20, "64": 20, "tokenizer_nam": 20, "conflict": 20, "dataset_path": 20, "usingvalu": 20, "4": 20, "89147fdf376d67e2": 20, "json": 20, "ac0ca5f5289a6cf108e706efcf040422dbbfa8e658dee6a819f20d76bb84d26b": 20, "100": 20, "00": 20, "lt": 20, "365": 20, "50it": 20, "6e5f71b3bbea4a96": 20, "5a6336aaca39c01": 20, "6f41d000bddb1cc5": 20, "datasetdict": 20, "label_text": 20, "input_id": 20, "token_type_id": 20, "attention_mask": 20, "num_row": 20, "16000": 20, "test": 20, "2000": 20, "valid": 20, "5": 20, "10": 20, "crossentropyloss": 20, "encod": 20, "custombertmodel": 20, "classifi": 20, "sequenti": 20, "67": 20, "k": 20, "51": 20, "272": 20, "saniti": 20, "check": 20, "epoch": 20, "500": 20, "01": 20, "09": 20, "27": 20, "14": 20, "v_num": 20, "08": 20, "34": 20, "05": 20, "54": 20, "fine": 20, "tune": 20, "easi": 20, "regular": 20, "fastbertlog": 20, "charg": 20, "freez": 20, "backbon": 20, "after": 20, "config_assistant_fastbert": 20, "fastbert_assist": 20, "554": 20, "02it": 20, "59ba575e7730665b": 20, "889acfd77e30ecff": 20, "e076430c3e6abb98": 20, "embed": 20, "bertembed": 20, "fastbertgraph": 20, "58": 20, "669": 20, "11": 20, "13": 20, "15": 20, "24": 20, "similarli": 20, "For": 20, "even": 20, "submodul": 20, "inde": 20, "substitut": 20, "through": 20, "theseusbertmodel": 20, "were": 20, "initi": 20, "checkpoint": 20, "newli": 20, "successor_lay": 20, "attent": 20, "self": 20, "dens": 20, "bia": 20, "queri": 20, "layernorm": 20, "intermedi": 20, "should": 20, "down": 20, "stream": 20, "abl": 20, "378": 20, "92it": 20, "17": 20, "70": 20, "16": 20}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"api": [0, 14], "assist": [0, 1], "model": [0, 17, 20], "distil": [0, 10, 12, 13, 19], "data": [0, 11], "infer": [0, 15], "util": [0, 2, 8, 12, 13], "bert_squeez": [1, 2, 11, 12], "function": [2, 8], "vocabulari": [2, 9], "artifact": [2, 3], "callback": [2, 4], "loss": [2, 5], "schedul": [2, 6], "scorer": [2, 7], "concept": 10, "transform": [10, 17, 20], "quantiz": [10, 19], "prune": [10, 19], "local_dataset": 11, "modul": 11, "bertsqueez": 14, "project": 14, "content": 14, "get": 14, "start": 14, "refer": 14, "indic": 14, "tabl": 14, "instal": 16, "lightn": 17, "custom": 17, "layer": 17, "overview": 18, "train": 20, "simpl": 20, "fastbert": 20, "theseusbert": 20}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "nbsphinx": 4, "sphinx": 57}, "alltitles": {"API": [[0, "api"]], "Assistants": [[0, null], [1, "assistants"]], "Models": [[0, null], [17, "models"]], "Distillation": [[0, null], [10, "distillation"], [12, "distillation"]], "Data": [[0, null], [11, "data"]], "Inference": [[0, null], [15, "inference"]], "Utilities": [[0, null], [2, "utilities"]], "bert_squeeze.assistants": [[1, "bert-squeeze-assistants"]], "bert_squeeze.utils": [[2, "bert-squeeze-utils"]], "Utility functions": [[2, null], [8, "utility-functions"]], "Vocabulary": [[2, null], [9, "vocabulary"]], "Artifacts": [[2, null], [3, "artifacts"]], "Callbacks": [[2, null], [4, "callbacks"]], "Losses": [[2, null], [5, "losses"]], "Schedulers": [[2, null], [6, "schedulers"]], "Scorers": [[2, null], [7, "scorers"]], "Concepts": [[10, "concepts"]], "Transformers": [[10, "transformers"]], "Quantization": [[10, "quantization"]], "Pruning": [[10, "pruning"]], "bert_squeeze.data.local_datasets": [[11, "bert-squeeze-data-local-datasets"]], "bert_squeeze.data.modules": [[11, "bert-squeeze-data-modules"]], "bert_squeeze.distillation": [[12, "bert-squeeze-distillation"]], "Distillation Utilities": [[12, null], [13, "distillation-utilities"]], "bertsqueeze": [[14, "bertsqueeze"]], "Project": [[14, "project"]], "Content": [[14, "content"]], "Getting started": [[14, null]], "Bertsqueeze": [[14, null]], "API References": [[14, null]], "Indices and tables": [[14, "indices-and-tables"]], "Installation": [[16, "installation"]], "Lightning Models": [[17, "lightning-models"]], "Custom Transformers": [[17, "custom-transformers"]], "Model Layers": [[17, "model-layers"]], "Overview": [[18, "overview"]], "Distillation + Pruning + Quantization": [[19, "Distillation-+-Pruning-+-Quantization"]], "Training": [[20, "Training"]], "Training a simple Transformer model": [[20, "Training-a-simple-Transformer-model"]], "Training FastBert": [[20, "Training-FastBert"]], "Training TheseusBert": [[20, "Training-TheseusBert"]]}, "indexentries": {}})